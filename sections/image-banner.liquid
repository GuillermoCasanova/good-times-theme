


{% style %}

  .image-banner {
    position: relative;
    overflow: hidden;
  }

  .image-banner__inner {
    position: relative;
    padding-bottom: 120%; 
    overflow: hidden
  }

  @media only screen and (min-width: 600px) {
    .image-banner__inner {
      padding-bottom: 80%; 
    }
  }


  @media only screen and (min-width: 930px) {
    .image-banner__inner {
      padding-bottom: 60%; 
    }
  }

  @media only screen and (min-width: 1600px) {
    .image-banner__inner {
      padding-bottom: 45%; 
    }
  }

  .image-banner__inner  img {
    position: absolute;
    width: 100%; 
    object-fit: cover;
    height: 100%; 
  }
  
  .character {
    position: absolute;
    bottom: -6rem; 
    right: 5rem; 
    z-index: 1; 
    width: 20vw;
    max-width: 13rem;
  }

  .character img {
    width: 100%; 
  }

{% endstyle %}

<div class="character">
  <img src="{{ section.settings.character | image_url: width: 750 }}" width="{{ section.settings.character.width }}" alt="Hello from Good Times!" loading="lazy">
</div>

<div class="image-banner__inner">
  <picture>
      <source media="(min-width: 600px)" srcset="{%- if section.settings.desktop_image.width >= 375 -%}{{ section.settings.desktop_image | image_url: width: 375 }} 375w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 750 -%}{{ section.settings.desktop_image | image_url: width: 750 }} 750w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1100 -%}{{ section.settings.desktop_image | image_url: width: 1100 }} 1100w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1500 -%}{{ section.settings.desktop_image | image_url: width: 1500 }} 1500w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1780 -%}{{ section.settings.desktop_image | image_url: width: 1780 }} 1780w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 2000 -%}{{ section.settings.desktop_image | image_url: width: 2000 }} 2000w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 2800 -%}{{ section.settings.desktop_image | image_url: width: 2800 }} 2800w{%- endif -%}"
     sizes="100vw">
    
      <img 
        srcset="{%- if section.settings.mobile_image.width >= 375 -%}{{ section.settings.mobile_image | image_url: width: 375 }} 375w,{%- endif -%}
      {%- if section.settings.mobile_image.width >= 750 -%}{{ section.settings.mobile_image | image_url: width: 750 }} 750w,{%- endif -%}" sizes="100vw"
      src="{{ section.settings.mobile_image | image_url: width: 750 }}"
      loading="eager"
      alt="{{ section.settings.mobile_image.alt | escape }}"
      width="{{ section.settings.mobile_image.width }}"
      height="{{ section.settings.mobile_image.width }}"
      class="image-banner__media__image"
    > 
  </picture>
</div>

{% schema %}
{
  "name": "t:sections.image-banner.name",
  "tag": "section",
  "class": "section image-banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image"
    },
    {
      "type": "image_picker",
      "id": "character",
      "label": "Character"
    }
  ],
  "presets": [
    {
      "name": "t:sections.image-banner.presets.name"
    }
  ]
}
{% endschema %}
