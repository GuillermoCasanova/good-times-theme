


{% style %}

  .image-banner {
    position: relative;
    overflow: hidden;
  }

  .image-banner__inner {
    position: relative;
    padding-bottom: 0;
    overflow: hidden;
    z-index: 0; 
    height: 110vmin;
  }

  @media only screen and (min-width: 700px) {
    .image-banner__inner {
      height: 80vmin;
    }
  }


  @media only screen and (min-width: 990px) {

  }

  @media only screen and (min-width: 1600px) {
    .image-banner__inner {
      height: 98vmin;
    }
  }

  @media only screen and (min-width: 2000px) {

  }

  .image-banner__inner  img {
    position: absolute;
    width: 100%; 
    object-fit: cover;
    height: 100%; 
  }
  
  .character {
    position: absolute;
    top: auto;  
    bottom: -2.5rem;
    right: 1rem; 
    z-index: 1; 
    width: 20vw;
    max-width: 13rem;
    transform: translateY(100%); 
    will-change: transform; 
    animation: enter-in .8s var(--easing-1) forwards 1.2s; 
  }
  

  @media screen and (min-width: 700px) {
    .character {
      right: 5rem;
      bottom: -4.5rem;
      width: 16vw;
      max-width: 11rem; 
    }
  }

  
  @media screen and (min-width: 1600px) {
    .character {
      right: 10vw;
      max-width: 11rem;
      bottom: -4rem;
    }
  }

    
  @media screen and (min-width: 1900px) {
    .character {
      right: 6vw;
    }
  }


  .character img {
    width: 100%; 
    position: relative; 
  }


  @keyframes enter-in {
    0% {
      transform: translateY(100%); 
    }

    100% {
      transform: translateY(-15%);
    }
  }
{% endstyle %}


<character-waving-animation>
  <div class="character">
    <lottie-player
      autoplay
      loop
      mode="normal"
    >
    </lottie-player>
  </div> 
</character-waving-animation>



<div class="section-marquee " style="background-color: var(--tertiary-color); position: absolute; width: 100%; bottom: 0; left: 0; z-index: 2;" aria-hidden="true" role="presentation">
  <div class="section-marquee__scroll-container is-reversed">
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
    <span>
      <span class="icon">☻</span> We Got You
    </span>
</div> 
 </div> 
<div class="image-banner__inner">
  <picture>
      <source media="(min-width: 700px)" srcset="{%- if section.settings.desktop_image.width >= 375 -%}{{ section.settings.desktop_image | image_url: width: 375 }} 375w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 750 -%}{{ section.settings.desktop_image | image_url: width: 750 }} 750w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1100 -%}{{ section.settings.desktop_image | image_url: width: 1100 }} 1100w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1500 -%}{{ section.settings.desktop_image | image_url: width: 1500 }} 1500w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 1780 -%}{{ section.settings.desktop_image | image_url: width: 1780 }} 1780w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 2000 -%}{{ section.settings.desktop_image | image_url: width: 2000 }} 2000w,{%- endif -%}
      {%- if section.settings.desktop_image.width >= 2800 -%}{{ section.settings.desktop_image | image_url: width: 2800 }} 2800w{%- endif -%}"
     sizes="100vw">
    
      <img 
        srcset="{%- if section.settings.mobile_image.width >= 375 -%}{{ section.settings.mobile_image | image_url: width: 375 }} 375w,{%- endif -%}
      {%- if section.settings.mobile_image.width >= 750 -%}{{ section.settings.mobile_image | image_url: width: 750 }} 750w,{%- endif -%}" sizes="100vw"
      src="{{ section.settings.mobile_image | image_url: width: 750 }}"
      loading="eager"
      alt="{{ section.settings.mobile_image.alt | escape }}"
      width="{{ section.settings.mobile_image.width }}"
      height="{{ section.settings.mobile_image.width }}"
      class="image-banner__media__image"
    > 
  </picture>
</div>

<script src="{{ 'character-waving-animation.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "t:sections.image-banner.name",
  "tag": "section",
  "class": "section image-banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image"
    },
    {
      "type": "image_picker",
      "id": "character",
      "label": "Character"
    }
  ],
  "presets": [
    {
      "name": "t:sections.image-banner.presets.name"
    }
  ]
}
{% endschema %}
